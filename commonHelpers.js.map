{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst API_KEY = '43802076-938fa3042b8f90b237e1b6cb9';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotoSearch = (q) => {\n    const searchParams = new URLSearchParams({\n        q,\n        key: API_KEY,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText);\n        }\n    return response.json();\n    })\n}\n","export const createImagesMarkup = images => {\n  return images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n                <a href=\"${largeImageURL}\" >\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\" />\n                </a>\n                <div class=\"details\">\n        <div class=\"detail-row\">\n            <p>Likes:</p>\n            <span>${likes}</span>\n        </div>\n        <div class=\"detail-row\">\n            <p>Views:</p>\n            <span>${views}</span>\n        </div>\n        <div class=\"detail-row\">\n            <p>Comments:</p>\n            <span>${comments}</span>\n        </div>\n        <div class=\"detail-row\">\n            <p>Downloads:</p>\n            <span>${downloads}</span>\n        </div>\n    </div>\n            </li>\n        `\n    )\n    .join('');\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {fetchPhotoSearch} from './js/pixabay-api.js';\nimport {createImagesMarkup} from './js/render-functions.js';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst searchRes = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n    const searchQuery = event.target.querySelector('.search-input').value.trim();\n\n    if (searchQuery === '') {\n        searchRes.innerHTML = '';\n        event.target.reset(); \n        iziToast.error({\n            title: 'Error',\n            message: 'Illegal operation, enter a name',\n            position: 'topRight',\n        });\n        return;\n    }\n    \n    searchRes.innerHTML = '';\n    console.log('Removing is-hidden class');\n    loaderEl.classList.remove('is-hidden');\n\n    fetchPhotoSearch(searchQuery).then(imagesData => {\n        if (imagesData.total === 0 || !imagesData.hits) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n        }\n    searchRes.innerHTML = createImagesMarkup(imagesData.hits);\n    new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionDelay: 250,\n        captionPosition: 'bottom',\n    }).refresh();\n    })\n.catch(error => console.log(error))\n.finally(() => {\n    event.target.reset();\n    console.log('Adding is-hidden class');\n    loaderEl.classList.add('is-hidden');\n})\n\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["API_KEY","BASE_URL","fetchPhotoSearch","q","searchParams","response","createImagesMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchFormEl","searchRes","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","SimpleLightbox","error"],"mappings":"6vBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAoBC,GAAM,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,EAAAD,EACA,IAAKH,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAO,MAAM,GAAGC,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAE3C,OAAOA,EAAS,MACpB,CAAK,CACL,EClBaC,EAAqBC,GACzBA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,2BAEzDL,CAAa;AAAA,gCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKtCC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,SAKxB,EACA,KAAK,EAAE,ECpBNC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,YAAY,EAEpD,SAASC,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,cAAc,eAAe,EAAE,MAAM,OAEtE,GAAIC,IAAgB,GAAI,CACpBJ,EAAU,UAAY,GACtBG,EAAM,OAAO,QACbE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,kCACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDL,EAAU,UAAY,GACtB,QAAQ,IAAI,0BAA0B,EACtCC,EAAS,UAAU,OAAO,WAAW,EAErCf,EAAiBkB,CAAW,EAAE,KAAKE,GAAc,EACzCA,EAAW,QAAU,GAAK,CAACA,EAAW,OACtCD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EAETL,EAAU,UAAYV,EAAmBgB,EAAW,IAAI,EACxD,IAAIC,EAAe,aAAc,CAC7B,SAAU,GACV,aAAc,IACd,gBAAiB,QACzB,CAAK,EAAE,QAAO,CACd,CAAK,EACJ,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXL,EAAM,OAAO,QACb,QAAQ,IAAI,wBAAwB,EACpCF,EAAS,UAAU,IAAI,WAAW,CACtC,CAAC,CAED,CAEAF,EAAa,iBAAiB,SAAUG,CAAkB"}